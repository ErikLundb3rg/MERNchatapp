{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/Message/Message.js","components/Messages/Messages.js","App.js","index.js","icons/onlineIcon.png","icons/closeIcon.png"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","e","preventDefault","to","InfoBar","src","onlineIcon","alt","href","closeIcon","Input","message","setMessage","sendMessage","onKeyPress","key","Message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","Messages","messages","map","i","ENDPOINT","Chat","location","setMessages","useEffect","queryString","parse","search","console","log","io","emit","error","alert","off","on","App","path","exact","component","ReactDOM","render","document","querySelector","module","exports"],"mappings":"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","file":"static/js/main.4332ef41.chunk.js","sourcesContent":["import React, { useState, useEffect} from \"react\";\r\nimport queryString from \"query-string\"\r\nimport io from \"socket.io-client\"\r\n\r\nimport InfoBar from \"../InfoBar/InfoBar\"\r\nimport Input from \"../Input/Input\"\r\nimport Messages from \"../Messages/Messages\"\r\nimport \"./Chat.css\"\r\n\r\nlet socket; \r\nconst ENDPOINT = \"https://react-chat-erik.herokuapp.com/\"\r\n\r\nconst Chat = ({ location }) => {\r\n    const [name, setName] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n    const [messages, setMessages] = useState([]);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const { name, room } = queryString.parse(location.search)\r\n        \r\n        console.log(name, room) \r\n        socket = io(ENDPOINT)\r\n\r\n        setName(name);\r\n        setRoom(room);\r\n\r\n        socket.emit('join', { name, room }, (error) => {\r\n            if(error) {\r\n              alert(error);\r\n            }\r\n          });\r\n\r\n        // exiting handling\r\n        return () => {\r\n            socket.emit(\"disconnect\");\r\n\r\n            socket.off()\r\n        }\r\n    }, [ENDPOINT, location.search]);\r\n\r\n    useEffect(() => {\r\n        socket.on('message', message => {\r\n          setMessages(messages => [ ...messages, message ]);\r\n        });\r\n    }, []);\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n\r\n        if (message) {\r\n            socket.emit(\"sendMessage\", message, () => setMessage(\"\"))\r\n        }\r\n    }\r\n\r\n    console.log(\"message: \", message, \" messages: \", messages)\r\n\r\n    // function for sending messages\r\n    return (\r\n        <div className = \"outerContainer\">\r\n            <div className = \"container\"> \r\n                \r\n                <InfoBar room = {room}/>\r\n                <Messages \r\n                    messages = {messages}\r\n                    name = {name}\r\n                />\r\n                <Input \r\n                    message = {message} \r\n                    setMessage = {setMessage}\r\n                    sendMessage = {sendMessage}\r\n                />\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Chat","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\"\r\nimport './Join.css';\r\n\r\n\r\nconst Join = () => {\r\n    const [name, setName] = useState(\"\");\r\n    const [room, setRoom] = useState(\"\");\r\n\r\n    return (\r\n        <div className=\"joinOuterContainer\">\r\n            <div className=\"joinInnerContainer\">\r\n              <h1 className=\"heading\">Join</h1>\r\n              <div>\r\n                <input placeholder=\"Name\" className=\"joinInput\" type=\"text\" onChange={(event) => setName(event.target.value)} />\r\n              </div>\r\n              <div>\r\n                <input placeholder=\"Room\" className=\"joinInput mt-20\" type=\"text\" onChange={(event) => setRoom(event.target.value)} />\r\n              </div>\r\n              <Link onClick={e => (!name || !room) ? e.preventDefault() : null} to={`/chat?name=${name}&room=${room}`}>\r\n                <button className={'button mt-20'} type=\"submit\">Sign In</button>\r\n              </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Join","import React from 'react';\r\n\r\nimport onlineIcon from '../../icons/onlineIcon.png';\r\nimport closeIcon from '../../icons/closeIcon.png';\r\n\r\nimport './InfoBar.css';\r\n\r\nconst InfoBar = ({ room }) => (\r\n  <div className=\"infoBar\">\r\n    <div className=\"leftInnerContainer\">\r\n      <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\r\n      <h3>{room}</h3>\r\n    </div>\r\n    <div className=\"rightInnerContainer\">\r\n      <a href=\"/\"><img src={closeIcon} alt=\"close icon\" /></a>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default InfoBar;","import React from 'react';\r\n\r\nimport onlineIcon from '../../icons/onlineIcon.png';\r\nimport closeIcon from '../../icons/closeIcon.png';\r\n\r\nimport './Input.css';\r\n\r\nconst Input = ({ message, setMessage, sendMessage}) => (\r\n    <form className = \"form\">\r\n        <input \r\n            className = \"input\"\r\n            type = \"text\"\r\n            placeholder = \"Type message...\"\r\n            value = {message}\r\n            onChange = {(event) => setMessage(event.target.value)}\r\n            onKeyPress = {(event => event.key === \"Enter\" ? sendMessage(event) : null)}\r\n        />\r\n\r\n        <button className = \"sendButton\" onClick = {(event) => sendMessage(event)}>\r\n            Send\r\n        </button>\r\n    </form>\r\n);\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nimport ScrollToBottom from \"react-scroll-to-bottom\"\r\n\r\nimport \"./Message.css\"\r\n\r\n\r\n\r\nconst Message = ({message: {user, text }, name}) => {\r\n    let isSentByCurrentUser = false; \r\n\r\n    const trimmedName = name.trim().toLowerCase()\r\n\r\n    if (user === trimmedName) {\r\n        isSentByCurrentUser = true;\r\n    }\r\n\r\n    return (\r\n        isSentByCurrentUser \r\n        ? (\r\n            <div className = \"messageContainer justifyEnd\">\r\n                <p className = \"sentText pr-10\"> {trimmedName} </p>\r\n                <div className = \"messageBox bakgroundBlue\">\r\n                    <p className = \"messageText colorWhite\"> {text} </p>\r\n                </div>\r\n            </div>\r\n        ) \r\n        : (\r\n            <div className = \"messageContainer justifyStart\">\r\n                <div className = \"messageBox backgroundLight\">\r\n                    <p className = \"messageText colorDark\"> {text} </p>\r\n                </div>\r\n                <p className = \"sentText pl-10\"> {user} </p>\r\n            </div>\r\n        )\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nimport ScrollToBottom from \"react-scroll-to-bottom\"\r\n\r\nimport Message from \"../Message/Message\"\r\nimport './Messages.css';\r\n\r\nconst Messages = ({ messages, name }) => (\r\n    <ScrollToBottom className = \"messages\">\r\n        {messages.map((message, i) => \r\n            <div key={i}>\r\n                <Message \r\n                    message = {message}\r\n                    name = {name}\r\n                />\r\n            </div>\r\n        )}\r\n    </ScrollToBottom>\r\n);\r\n\r\nexport default Messages;","import React from \"react\"; \r\n\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport Join from \"./components/Join/Join\"\r\nimport Chat from \"./components/Chat/Chat\"\r\nconst App = () => (\r\n    <Router>\r\n        <Route path = \"/\" exact component = {Join} />\r\n        <Route path = \"/chat\" exact component = {Chat} />\r\n\r\n    </Router>\r\n)\r\n\r\n\r\nexport default App; ","import React from \"react\"; \r\nimport ReactDOM from \"react-dom\"\r\n\r\nimport App from \"./App\"\r\n\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}